function initializeParallax(e){var t=e.querySelectorAll("*[parallax]"),o=[],r=!1;"none"==getComputedStyle(document.body).transform&&(document.body.style.transform="translateZ(0)");var i=document.createElement("div");i.style.position="fixed",i.style.top="0",i.style.width="1px",i.style.height="1px",i.style.zIndex=1,document.body.insertBefore(i,document.body.firstChild);for(var n=0;n<t.length;n++){var l,s=t[n],a=s.parentNode;if("visible"!=getComputedStyle(a).overflow){console.error("Need non-scrollable container to apply perspective for",s);continue}e&&a.parentNode!=e&&console.warn("Currently we only track a single overflow clip, but elements from multiple clips found.",s);var e=a.parentNode;"visible"==getComputedStyle(e).overflow&&console.error("Parent of sticky container should be scrollable element",s),r||getComputedStyle(e).webkitOverflowScrolling?(r=!0,l=a):(l=e,a.style.transformStyle="preserve-3d"),l.style.perspectiveOrigin="bottom right",l.style.perspective="1px",r&&(s.style.position="-webkit-sticky"),r&&(s.style.top="0"),s.style.transformOrigin="bottom right";for(var p=t[n].previousElementSibling;p&&p.hasAttribute("parallax");)p=p.previousElementSibling;for(var f=t[n].nextElementSibling;f&&!f.hasAttribute("parallax-cover");)f=f.nextElementSibling;o.push({node:t[n],top:t[n].offsetTop,sticky:!!r,nextCover:f,previousCover:p})}e.addEventListener("scroll",function(){for(var t=0;t<o.length;t++){var r=o[t].node.parentNode,i=o[t].previousCover,n=o[t].nextCover,l=i?i.offsetTop+i.offsetHeight:0;n?n.offsetTop:r.offsetHeight,l-200-e.clientHeight<e.scrollTop&&e.scrollTop;var s="block";o[t].node.style.display!=s&&(o[t].node.style.display=s)}}),window.addEventListener("resize",onResize.bind(null,o)),document.getElementsByClassName(".toggle-wrapper p").addEventListener("transitionend",onResize.bind(null,o)),document.getElementsByClassName(".toggle-wrapper p").addEventListener("webkitTransitionend",onResize.bind(null,o)),onResize(o);for(var n=t.length-1;n>=0;n--)t[n].parentNode.insertBefore(t[n],t[n].parentNode.firstChild);console.log("initialized!")}function onResize(e){for(var t=0;t<e.length;t++){var o=e[t].node.parentNode,r=o.parentNode,i=e[t].previousCover,n=e[t].nextCover,l=e[t].node.getAttribute("parallax"),s=i?i.offsetTop+i.offsetHeight:0,a=e[t].sticky?0:r.offsetWidth-r.clientWidth;e[t].sticky;var p=e[t].node.offsetHeight,f=0;f=l?1-1/l:(p-(n?n.offsetTop:o.offsetHeight)+s)/(p-r.clientHeight),e[t].sticky&&(f=1/f);var d=1/(1-f),v=a*(d-1),c=e[t].sticky?-(o.scrollHeight-s-p)*(1-d):(s-f*(p-r.clientHeight))*d;e[t].node.style.transform="scale("+(1-f)+") translate3d("+v+"px, "+c+"px, "+f+"px)"}}